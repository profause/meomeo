<app-bar title="Locations"></app-bar>
<main class="container" style="margin-top: 80px">
  <div class="row">
    <nav class="col-12" aria-label="breadcrumb">
      <ol class="p-0 m-0 breadcrumb" style="background: transparent !important">
        <li class="breadcrumb-item"><a routerLink="/home">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">locations</li>
      </ol>
    </nav>
    <div class="col-12 mt-3">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <button
          style="height: 40px"
          [routerLink]="['/account/add']"
          mat-stroked-button
        >
          Add location
        </button>
      </div>
    </div>

    <div
      class="col-md-4 mt-2 col-lg-4 col-xs-12 col-sm-12"
      *ngFor="let location of locationList$ | async; let i = index"
    >
      <div
        class="p-3 mb-2 rounded d-flex justify-content-between align-items-center"
        style="background-color: white; border: 0.7px solid #ccc"
      >
        <div>
          <h5 class="p-0 m-0 font-poppins" style="font-size: 16px">
            {{ location?.name }}
          </h5>
          <p class="p-0 m-0 font-poppins font-weight-300">
            {{ location?.address }}
          </p>
        </div>
        <div [matMenuTriggerFor]="accountMenu" class="p-0 m-0" mat-icon-button>
          <mat-icon class="p-0 m-0">more_vert</mat-icon>
          <mat-menu #accountMenu="matMenu">
            <a
              routerLink="/account/edit/{{ location.id }}"
              class="nav-link"
              mat-menu-item
              >Edit</a
            >
            <div mat-menu-item (click)="onDeleteAccount(location)">Delete</div>
          </mat-menu>
        </div>
      </div>
    </div>
    <div class="col-12">
      <div class="d-flex justify-content-center mt-2 mb-3">
        <mat-spinner
          [hidden]="!isLoading"
          class="align-self-center"
          mode="indeterminate"
          [diameter]="25"
          [strokeWidth]="3"
        >
        </mat-spinner>
      </div>
    </div>
  </div>
</main>
