<app-bar title="Update Location"></app-bar>
<main class="container" style="margin-top: 80px">
  <div class="row align-items-center">
    <nav class="col-12" aria-label="breadcrumb">
      <ol class="p-0 m-0 breadcrumb" style="background: transparent !important">
        <li class="breadcrumb-item"><a routerLink="/home">Home</a></li>
        <li class="breadcrumb-item"><a routerLink="/accounts">locations</a></li>
        <li class="breadcrumb-item active" aria-current="page">edit location</li>
      </ol>
    </nav>
    <div class="col-12 mt-3">
      <form
        class="form-row"
        [formGroup]="editAccountFormGroup"
        #editAccountForm="ngForm"
        name="editAccountFormGroup"
        (ngSubmit)="editAccountForm.valid && submit()"
      >
        <div class="col-12">
          <mat-form-field appearance="outline" style="width: 100%">
            <mat-label>Location name</mat-label>
            <input
              inputTrim
              formControlName="name"
              type="text"
              id="name"
              name="name"
              required
              autocomplete="off"
              matInput
              [ngClass]="{
                'is-invalid':
                  editAccountForm.submitted &&
                  editAccountFormGroup.get('name')?.hasError('required')
              }"
              aria-describedby="nameHint"
            />
          </mat-form-field>
        </div>

        <div class="col-12">
            <mat-form-field appearance="outline" style="width: 100%">
              <mat-label>Address</mat-label>
              <input formControlName="address" class="text-bold" type="text" id="address" name="address" required
                        autocomplete="off" matInput
                        [ngClass]="{ 'is-invalid':editAccountForm.submitted && editAccountFormGroup.get('address')?.hasError('required') }"
                        aria-describedby="addressHint">
            </mat-form-field>
          </div>
          <div class="col-12">
            <div class="d-flex justify-content-end align-items-center">
                <button mat-flat-button color="accent" type="submit" [disabled]="isLoading || !editAccountForm.valid">
                    <ng-template [ngIf]="!isLoading" [ngIfThen]="title" [ngIfElse]="spinner">
                    </ng-template>
                </button>
            </div>
          </div>
      </form>
    </div>
  </div>
</main>

<ng-template #title>
    Save
</ng-template>

<ng-template #spinner>
        <mat-spinner mode="indeterminate" [diameter]="25" [strokeWidth]="3">
        </mat-spinner>
</ng-template>
